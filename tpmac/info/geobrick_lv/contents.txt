# generated using pdftotext -layout turbo_srm.pdf and partially hand-tweaked

INTRODUCTION ................................................................................................................... 21
What is Turbo PMAC? .............................................................................................................. 21
What is New about Turbo PMAC? ............................................................................................ 21
How do I Convert a PMAC Application? .................................................................................. 22
How do I use this Manual? ........................................................................................................ 22

TURBO PMAC VARIABLE AND COMMAND SUMMARY ............................................. 23
Notes ........................................................................................................................................ 23
Definitions ................................................................................................................................ 23
On-Line Commands .................................................................................................................. 24
  On-line Global Commands ................................................................................................... 24
  On-line Coordinate System Commands ................................................................................. 27
  On-line Motor Commands .................................................................................................... 29
Motion Program Commands ..................................................................................................... 30
PLC Program Commands .......................................................................................................... 33

TURBO PMAC GLOBAL I-VARIABLES ............................................................................ 35
General Global Setup I-Variables .............................................................................................. 35
      I0       Serial Card Number......................................................................................................................... 35
      I1       Serial Port Mode ............................................................................................................................. 36
      I2       Control Panel Port Activation .......................................................................................................... 36
      I3       I/O Handshake Control .................................................................................................................... 37
      I4       Communications Integrity Mode ...................................................................................................... 38
      I5       PLC Program Control ..................................................................................................................... 39
      I6       Error Reporting Mode ..................................................................................................................... 39
      I7       Phase Cycle Extension ..................................................................................................................... 40
      I8       Real-Time Interrupt Period .............................................................................................................. 41
      I9       Full/Abbreviated Listing Control ..................................................................................................... 42
      I10      Servo Interrupt Time ........................................................................................................................ 42
      I11      Programmed Move Calculation Time ............................................................................................... 43
      I12         Lookahead Time Spline Enable .................................................................................................... 44
      I13      Foreground In-Position Check Enable ............................................................................................. 44
      I14      Temporary Buffer Save Enable ........................................................................................................ 45
      I15      Degree/Radian Control for User Trig Functions .............................................................................. 45
      I16      Rotary Buffer Request On Point ....................................................................................................... 45
      I17      Rotary Buffer Request Off Point ....................................................................................................... 46
      I18      Fixed Buffer Full Warning Point ...................................................................................................... 46
      I19      Clock Source I-Variable Number (Turbo PMAC2 only) ................................................................... 46
      I20      MACRO IC 0 Base Address (Turbo PMAC2 only) ............................................................................ 48
      I21      MACRO IC 1 Base Address (Turbo PMAC2 only) ............................................................................ 48
      I22      MACRO IC 2 Base Address (Turbo PMAC2 only) ............................................................................ 49
      I23      MACRO IC 3 Base Address (Turbo PMAC2 only) ............................................................................ 50
      I24      Main DPRAM Base Address ............................................................................................................ 50
      I26      UMAC Electrical MACRO Enable ................................................................................................... 51
      I27      Alternate TWS Input Format ............................................................................................................ 51
      I28    Display Port Disable ....................................................................................................................... 52
      I29    Multiplexer Port Alternate Address .................................................................................................. 52
      I30    Compensation Table Wrap Enable ................................................................................................... 53
      I35    Brick LV & Controller E-Stop Enable .............................................................................................. 53
      I36    Enable/Abort Separation Control ..................................................................................................... 54
      I37    Additional Wait States ..................................................................................................................... 55
      I38    In-Line CALL Enable....................................................................................................................... 55
      I39    UBUS Accessory ID Variable Display Control ................................................................................. 56
      I40    Watchdog Timer Reset Value ........................................................................................................... 57
      I41    I-Variable Lockout Control .............................................................................................................. 57
      I42    Spline/PVT Time Control Mode ....................................................................................................... 58
      I43    Auxiliary/Main Serial Port Parser Disable....................................................................................... 58
      I44    PMAC Ladder Program Enable {Special Firmware Only} ............................................................... 59
      I45    Foreground Binary Rotary Buffer Transfer Enable........................................................................... 59
      I46    P & Q-Variable Storage Location .................................................................................................... 59
      I47    DPRAM Motor Data Foreground Reporting Period ......................................................................... 60
      I48    DPRAM Motor Data Foreground Reporting Enable......................................................................... 60
      I49    DPRAM Background Data Reporting Enable ................................................................................... 61
      I50    DPRAM Background Data Reporting Period ................................................................................... 61
      I51    Compensation Table Enable ............................................................................................................ 61
      I52    CPU Frequency Control .................................................................................................................. 61
      I53    Auxiliary Serial Port Baud Rate Control .......................................................................................... 62
      I54    Serial Port Baud Rate Control ......................................................................................................... 63
      I55    DPRAM Background Variable Buffers Enable ................................................................................. 63
      I56    DPRAM ASCII Communications Interrupt Enable............................................................................ 63
      I57    DPRAM Motor Data Background Reporting Enable ........................................................................ 64
      I58    DPRAM ASCII Communications Enable .......................................................................................... 64
      I59    Motor/C.S. Group Select .................................................................................................................. 65
      I60    Filtered Velocity Sample Time ......................................................................................................... 65
      I61    Filtered Velocity Shift ...................................................................................................................... 66
      I62    Internal Message Carriage Return Control ...................................................................................... 66
      I63    Control-X Echo Enable .................................................................................................................... 67
      I64    Internal Response Tag Enable ......................................................................................................... 67
      I65    User Configuration Variable ........................................................................................................... 67
      I67    Modbus TCP Buffer Start Address ................................................................................................... 68
      I68    Coordinate System Activation Control ............................................................................................. 68
      I69    Modbus TCP Software Control Panel Start Address ......................................................................... 69
MACRO Ring Configuration I-Variables .............................................................................. 69
      I70    MACRO IC 0 Node Auxiliary Register Enable .................................................................................. 69
      I71    MACRO IC 0 Node Protocol Type Control....................................................................................... 70
      I72    MACRO IC 1 Node Auxiliary Register Enable .................................................................................. 70
      I73    MACRO IC 1 Node Protocol Type Control....................................................................................... 71
      I74    MACRO IC 2 Node Auxiliary Register Enable .................................................................................. 71
      I75    MACRO IC 2 Node Protocol Type Control....................................................................................... 72
      I76    MACRO IC 3 Node Auxiliary Register Enable .................................................................................. 72
      I77    MACRO IC 3 Node Protocol Type Control....................................................................................... 73
      I78    MACRO Type 1 Master/Slave Communications Timeout .................................................................. 73
      I79    MACRO Type 1 Master/Master Communications Timeout ................................................................ 74
      I80    MACRO Ring Check Period............................................................................................................. 74
      I81    MACRO Maximum Ring Error Count .............................................................................................. 75
      I82    MACRO Minimum Sync Packet Count ............................................................................................. 75
      I83    MACRO Parallel Ring Enable Mask ................................................................................................ 75
      I84    MACRO IC # for Master Communications ....................................................................................... 76
      I85    MACRO Ring Order Number ........................................................................................................... 76
VME/DPRAM Setup I-Variables ........................................................................................... 77
       I90     VME Address Modifier .................................................................................................................... 77
       I91     VME Address Modifier Don’t Care Bits ........................................................................................... 77
       I92     VME Base Address Bits A31-A24 ..................................................................................................... 77
       I93     VME Mailbox Base Address Bits A23-A16 ISA DPRAM Base Address Bits A23-A16 ............................ 78
       I94     VME Mailbox Base Address Bits A15-A08 ISA DPRAM Base Address Bits A15-A14 & Control ........... 78
       I95     VME Interrupt Level ........................................................................................................................ 79
       I96     VME Interrupt Vector ...................................................................................................................... 79
       I97     VME DPRAM Base Address Bits A23-A20 ....................................................................................... 80
       I98     VME DPRAM Enable ...................................................................................................................... 80
       I99     VME Address Width Control ............................................................................................................ 80
Motor Setup I-Variables ............................................................................................................ 81
Motor Definition I-Variables ................................................................................................ 81
        Ixx00       Motor xx Activation Control ........................................................................................................ 81
        Ixx01       Motor xx Commutation Enable .................................................................................................... 81
        Ixx02       Motor xx Command Output Address ............................................................................................ 82
        Ixx03       Motor xx Position Loop Feedback Address .................................................................................. 85
        Ixx04       Motor xx Velocity Loop Feedback Address................................................................................... 86
        Ixx05       Motor xx Master Position Address ............................................................................................... 87
        Ixx06       Motor xx Position Following Enable and Mode............................................................................ 87
        Ixx07       Motor xx Master (Handwheel) Scale Factor ................................................................................. 88
        Ixx08       Motor xx Position Scale Factor.................................................................................................... 88
        Ixx09       Motor xx Velocity-Loop Scale Factor........................................................................................... 88
        Ixx10       Motor xx Power-On Servo Position Address ................................................................................ 89
Motor Safety I-Variables ...................................................................................................... 94
        Ixx11       Motor xx Fatal Following Error Limit ......................................................................................... 94
        Ixx12       Motor xx Warning Following Error Limit .................................................................................... 94
        Ixx13       Motor xx Positive Software Position Limit ................................................................................... 95
        Ixx14       Motor xx Negative Software Position Limit .................................................................................. 96
        Ixx15       Motor xx Abort/Limit Deceleration Rate ...................................................................................... 97
        Ixx16       Motor xx Maximum Program Velocity ......................................................................................... 98
        Ixx17       Motor xx Maximum Program Acceleration .................................................................................. 98
        Ixx19       Motor xx Maximum Jog/Home Acceleration............................................................................... 100
Motor Motion I-Variables ................................................................................................... 100
        Ixx20       Motor xx Jog/Home Acceleration Time ...................................................................................... 100
        Ixx21       Motor xx Jog/Home S-Curve Time ............................................................................................. 101
        Ixx22       Motor xx Jog Speed ................................................................................................................... 101
        Ixx23       Motor xx Home Speed and Direction ......................................................................................... 101
        Ixx24       Motor xx Flag Mode Control ..................................................................................................... 101
        Ixx25       Motor xx Flag Address .............................................................................................................. 104
        Ixx26       Motor xx Home Offset................................................................................................................ 107
        Ixx27       Motor xx Position Rollover Range ............................................................................................. 108
        Ixx28       Motor xx In-Position Band......................................................................................................... 109
        Ixx29       Motor xx Output/First Phase Offset ........................................................................................... 110
Motor xx PID Servo Setup I-Variables ................................................................................ 111
        Ixx30       Motor xx PID Proportional Gain ............................................................................................... 111
        Ixx31       Motor xx PID Derivative Gain ................................................................................................... 111
       Ixx32       Motor xx PID Velocity Feedforward Gain .................................................................................. 112
       Ixx33       Motor xx PID Integral Gain....................................................................................................... 112
       Ixx34       Motor xx PID Integration Mode................................................................................................. 113
       Ixx35       Motor xx PID Acceleration Feedforward Gain ........................................................................... 113
       Ixx36       Motor xx PID Notch Filter Coefficient N1 .................................................................................. 113
       Ixx37       Motor xx PID Notch Filter Coefficient N2 .................................................................................. 114
       Ixx38       Motor xx PID Notch Filter Coefficient D1.................................................................................. 114
       Ixx39       Motor xx PID Notch Filter Coefficient D2.................................................................................. 114
       Ixx40       Motor xx Net Desired Position Filter Gain ................................................................................. 114
       Ixx41       Motor xx Desired Position Limit Band ....................................................................................... 115
       Ixx42       Motor xx Amplifier Flag Address ............................................................................................... 115
       Ixx43       Motor xx Overtravel-Limit Flag Address.................................................................................... 117
       Ixx44       Motor xx MACRO Slave Command Address ............................................................................... 118
Motor Servo and Commutation Modifiers ........................................................................... 119
       Ixx55       Motor xx Commutation Table Address Offset ............................................................................. 119
       Ixx56       Motor xx Commutation Delay Compensation ............................................................................. 120
       Ixx57       Motor xx Continuous Current Limit ........................................................................................... 120
       Ixx58       Motor xx Integrated Current Limit ............................................................................................. 122
       Ixx59       Motor xx User-Written Servo/Phase Enable ............................................................................... 123
       Ixx60       Motor xx Servo Cycle Period Extension Period .......................................................................... 123
       Ixx61       Motor xx Current-Loop Integral Gain ........................................................................................ 124
       Ixx62       Motor xx Current-Loop Forward-Path Proportional Gain ......................................................... 124
       Ixx63       Motor xx Integration Limit......................................................................................................... 124
       Ixx64       Motor xx Deadband Gain Factor ............................................................................................... 125
       Ixx65       Motor xx Deadband Size ............................................................................................................ 125
       Ixx66       Motor xx PWM Scale Factor...................................................................................................... 126
       Ixx67       Motor xx Position Error Limit ................................................................................................... 126
       Ixx68       Motor xx Friction Feedforward ................................................................................................. 127
       Ixx69       Motor xx Output Command Limit............................................................................................... 127
Motor Commutation Setup I-Variables ............................................................................... 129
       Ixx70       Motor xx Number of Commutation Cycles (N) ............................................................................ 129
       Ixx71       Motor xx Counts per N Commutation Cycles .............................................................................. 129
       Ixx72       Motor xx Commutation Phase Angle .......................................................................................... 130
       Ixx73       Motor xx Phase Finding Output Value ....................................................................................... 131
       Ixx74       Motor xx Phase Finding Time .................................................................................................... 132
       Ixx75       Motor xx Phase Position Offset .................................................................................................. 132
       Ixx76       Motor xx Current-Loop Back-Path Proportional Gain ............................................................... 134
       Ixx77       Motor xx Magnetization Current ................................................................................................ 134
       Ixx78       Motor xx Slip Gain .................................................................................................................... 134
       Ixx79       Motor xx Second Phase Offset ................................................................................................... 135
       Ixx80       Motor xx Power-Up Mode ......................................................................................................... 136
       Ixx81       Motor xx Power-On Phase Position Address .............................................................................. 137
       Ixx82       Motor xx Current-Loop Feedback Address................................................................................. 143
       Ixx83       Motor xx Commutation Position Address ................................................................................... 145
       Ixx84       Motor xx Current-Loop Feedback Mask Word ................................................................................ 147
Further Motor I-Variables .................................................................................................. 148
       Ixx85       Motor xx Backlash Take-up Rate ............................................................................................... 148
       Ixx86       Motor xx Backlash Size.............................................................................................................. 148
       Ixx87       Motor xx Backlash Hysteresis .................................................................................................... 148
       Ixx88       Motor xx In-Position Number of Scans....................................................................................... 149
       Ixx90       Motor xx Rapid Mode Speed Select ............................................................................................ 149
       Ixx91       Motor xx Power-On Phase Position Format ............................................................................... 149
       Ixx92       Motor xx Jog Move Calculation Time ........................................................................................ 152
       Ixx95       Motor xx Power-On Servo Position Format ............................................................................... 152
       Ixx96       Motor xx Command Output Mode Control ................................................................................. 156
       Ixx97       Motor xx Position Capture & Trigger Mode............................................................................... 157
       Ixx98       Motor xx Third-Resolver Gear Ratio .......................................................................................... 157
       Ixx99       Motor xx Second-Resolver Gear Ratio ....................................................................................... 158
Supplemental Motor Setup I-Variables ............................................................................... 159
       Iyy00/50         Motor xx Extended Servo Algorithm Enable ........................................................................... 159
       Iyy10-Iyy39/Iyy60-Iyy89         Motor xx Extended Servo Algorithm Gains ................................................ 160
System Configuration Reporting ............................................................................................. 161
        I4900 Servo ICs Present ...................................................................................................................... 161
        I4901 Servo IC Type............................................................................................................................ 161
        I4902 MACRO ICs Present.................................................................................................................. 162
        I4903 MACRO IC Types...................................................................................................................... 162
        I4904 Dual-Ported RAM ICs Present................................................................................................... 163
        I4908 End of Open Memory................................................................................................................. 164
        I4909 Turbo CPU ID Configuration .................................................................................................... 164
        I4910-I4925 Servo IC Card Identification .......................................................................................... 165
        I4926-I4941 MACRO IC Card Identification ...................................................................................... 167
        I4942-I4949 DPRAM IC Card Identification ...................................................................................... 168
        I4950-I4965 I/O IC Card Identification .............................................................................................. 169
Data Gathering I-Variables ...................................................................................................... 170
        I5000     Data Gathering Buffer Location and Mode ............................................................................... 170
        I5001-I5048 Data Gathering Source 1-48 Address ............................................................................. 170
        I5049 Data Gathering Period .............................................................................................................. 171
        I5050 Data Gathering Selection Mask 1 .............................................................................................. 171
        I5051 Data Gathering Selection Mask 2 .............................................................................................. 171
A/D Processing Table I-Variables ........................................................................................... 172
        I5060 A/D Processing Ring Size .......................................................................................................... 172
        I5061-I5076 A/D Ring Slot Pointers ..................................................................................................... 173
        I5080    A/D Ring Convert Enable ......................................................................................................... 174
        I5081-I5096 A/D Ring Convert Codes................................................................................................... 174
Coordinate System I-Variables ................................................................................................ 175
        Isx11       Coordinate System ‘x’ User Countdown Timer 1 ........................................................................ 176
        Isx12       Coordinate System x User Countdown Timer 2 .......................................................................... 176
        Isx13       Coordinate System x Segmentation Time .................................................................................... 177
        Isx14       Coordinate System ‘x’ End-of-Move Anticipation Time .............................................................. 178
        Isx15       Coordinate System ‘x’ Segmentation Override ........................................................................... 178
        Isx16       Coordinate System ‘x’ Segmentation Override Slew ................................................................... 179
        Isx20       Coordinate System x Lookahead Length ..................................................................................... 180
        Isx21       Coordinate System x Lookahead State Control ........................................................................... 181
        Isx50       Coordinate System x Kinematic Calculations Enable ................................................................. 181
        Isx53       Coordinate System x Step Mode Control .................................................................................... 182
        Isx78       Coordinate System ‘x’ Maximum Circle Acceleration................................................................. 182
        Isx79       Coordinate System ‘x’ Rapid Move Mode Control ...................................................................... 183
        Isx81       Coordinate System ‘x’ Blend Disable In-Position Time-Out ....................................................... 184
        Isx82       Coordinate System ‘x’ Blend Disable Dwell Time ...................................................................... 184
        Isx83       Coordinate System ‘x’ Corner Blend Break Point ....................................................................... 185
        Isx84       Coordinate System ‘x’ Outside Corner Stop Point Control ......................................................... 186
        Isx85      Coordinate System ‘x’ Corner Dwell Break Point ...................................................................... 186
        Isx86      Coordinate System x Alternate Feedrate .................................................................................... 187
        Isx87      Coordinate System x Default Program Acceleration Time .......................................................... 188
        Isx88      Coordinate System x Default Program S-Curve Time ................................................................. 188
        Isx89      Coordinate System x Default Program Feedrate/Move Time ...................................................... 189
        Isx90      Coordinate System x Feedrate Time Units.................................................................................. 189
        Isx91      Coordinate System x Default Working Program Number ............................................................ 189
        Isx92      Coordinate System ‘x’ Move Blend Disable................................................................................ 190
        Isx93      Coordinate System x Time Base Control Address ....................................................................... 190
        Isx94      Coordinate System x Time Base Slew Rate ................................................................................. 191
        Isx95      Coordinate System x Feed Hold Slew Rate ................................................................................. 191
        Isx96      Coordinate System x Circle Error Limit ..................................................................................... 191
        Isx97      Coordinate System x Minimum Arc Length................................................................................. 192
        Isx98      Coordinate System x Maximum Feedrate ................................................................................... 193
        Isx99      Coordinate System x Cutter-Comp Outside Corner Break Point ................................................. 193
Turbo PMAC2 MACRO IC I-Variables .................................................................................. 194
        I6800/I6850/I6900/I6950            MACRO IC MaxPhase/PWM Frequency Control .......................................... 194
        I6801/I6851/I6901/I6951            MACRO IC Phase Clock Frequency Control ................................................. 196
        I6802/I6852/I6902/I6952            MACRO IC Servo Clock Frequency Control .................................................. 196
        I6803/I6853/I6903/I6953            MACRO IC Hardware Clock Control ............................................................ 198
        I6804/I6854/I6904/I6954            MACRO IC PWM Deadtime / PFM Pulse Width Control ............................... 200
        I6805/I6855/I6905/I6955            MACRO IC DAC Strobe Word ...................................................................... 200
        I6806/I6856/I6906/I6956            MACRO IC ADC Strobe Word ...................................................................... 201
        I6807/I6857/I6907/I6957            MACRO IC Clock Direction Control ............................................................. 201
Channel-Specific MACRO IC I-variables............................................................................ 202
        I68n0/I69n0       MACRO IC Channel n* Encoder/Timer Decode Control ................................................... 203
        I68n1/I69n1       MACRO IC Channel n* Position Compare Channel Select ................................................ 204
        I68n2/I69n2       MACRO IC Encoder n* Capture Control .......................................................................... 204
        I68n3/I69n3       MACRO IC Channel n* Capture Flag Select Control ........................................................ 205
        I68n4/I69n4       MACRO IC Channel n* Encoder Gated Index Select ......................................................... 206
        I68n5/I69n5       MACRO IC Channel n* Encoder Index Gate State/Demux Control .................................... 207
        I68n6/I69n6       MACRO IC Channel n* Output Mode Select ..................................................................... 208
        I68n7/I69n7       MACRO IC Channel n* Output Invert Control .................................................................. 208
        I68n8/I69n8       MACRO IC Channel n* PFM Direction Signal Invert Control........................................... 209
        I68n9/I69n9       Reserved for Future Use ................................................................................................... 209
MACRO IC Ring Setup I-variables ..................................................................................... 210
        I6840/I6890/I6940/I6990            MACRO IC Ring Configuration/Status .......................................................... 210
        I6841/I6891/I6941/I6991            MACRO IC Node Activate Control ................................................................ 211
Servo IC I-Variables ............................................................................................................... 212
PMAC2-Style Multi-Channel Servo IC I-Variables ............................................................. 213
        I7m00      Servo IC m MaxPhase/PWM Frequency Control ....................................................................... 213
        I7m01      Servo IC m Phase Clock Frequency Control ............................................................................. 215
        I7m02      Servo IC m Servo Clock Frequency Control .............................................................................. 215
        I7m03      Servo IC m Hardware Clock Control ........................................................................................ 217
        I7m04      Servo IC m PWM Deadtime / PFM Pulse Width Control ........................................................... 218
        I7m05      Servo IC m DAC Strobe Word................................................................................................... 219
        I7m06      Servo IC m ADC Strobe Word................................................................................................... 219
        I7m07      Servo IC m Phase/Servo Clock Direction .................................................................................. 220
PMAC2-Style Channel-Specific Servo IC I-Variables ......................................................... 221
       I7mn0      Servo IC m Channel n Encoder/Timer Decode Control.............................................................. 221
       I7mn1         Servo IC m Channel n Position Compare Channel Select .......................................................... 222
       I7mn2         Servo IC m Channel n Capture Control..................................................................................... 222
       I7mn3         Servo IC m Channel n Capture Flag Select Control .................................................................. 223
       I7mn4         Servo IC m Channel n Encoder Gated Index Select ................................................................... 223
       I7mn5         Servo IC m Channel n Encoder Index Gate State/Demux Control .............................................. 224
       I7mn6         Servo IC m Channel n Output Mode Select................................................................................ 225
       I7mn7         Servo IC m Channel n Output Invert Control ............................................................................ 225
       I7mn8         Servo IC m Channel n PFM Direction Signal Invert Control ..................................................... 226
       I7mn9         Servo IC m Channel n Hardware-1/T Control ........................................................................... 226
PMAC-Style Servo IC Setup I-Variables ............................................................................. 227
       I7mn0         Servo IC m Channel n Encoder/Timer Decode Control.............................................................. 227
       I7mn1         Servo IC m Channel n Encoder Filter Disable........................................................................... 228
       I7mn2         Servo IC m Channel n Capture Control..................................................................................... 228
       I7mn3         Servo IC m Channel n Capture Flag Select Control .................................................................. 229
Conversion Table I-Variables ............................................................................................. 230
       I8000-I8191           Conversion Table Setup Lines ......................................................................................... 230

TURBO PMAC ON-LINE COMMAND SPECIFICATION .............................................. 254
       <CONTROL-A>...................................................................................................................................... 254
       <CONTROL-B>...................................................................................................................................... 254
       <CONTROL-C> ..................................................................................................................................... 255
       <CONTROL-D> ..................................................................................................................................... 256
       <CONTROL-E>...................................................................................................................................... 256
       <CONTROL-F>...................................................................................................................................... 257
       <CONTROL-G> ..................................................................................................................................... 257
       <CONTROL-H> ..................................................................................................................................... 258
       <CONTROL-I>....................................................................................................................................... 258
       <CONTROL-K> ..................................................................................................................................... 258
       <CONTROL-M> ..................................................................................................................................... 259
       <CONTROL-N> ..................................................................................................................................... 259
       <CONTROL-O> ..................................................................................................................................... 260
       <CONTROL-P>...................................................................................................................................... 260
       <CONTROL-Q> ..................................................................................................................................... 261
       <CONTROL-R>...................................................................................................................................... 261
       <CONTROL-S> ...................................................................................................................................... 261
       <CONTROL-T> ...................................................................................................................................... 262
       <CONTROL-V>...................................................................................................................................... 262
       <CONTROL-X>...................................................................................................................................... 263
       !{axis}{constant}[{axis}{constant}…] ...................................................................................................... 264
       @ ............................................................................................................................................................ 264
       @{card} .................................................................................................................................................. 265
       # ............................................................................................................................................................. 266
       #{constant}.............................................................................................................................................. 266
       #{constant}-> .......................................................................................................................................... 267
       #{constant}->0 ........................................................................................................................................ 267
       #{constant}->{axis definition} ................................................................................................................. 268
       #{constant}->I......................................................................................................................................... 269
       ##............................................................................................................................................................ 270
       ##{constant} ............................................................................................................................................ 270
       $ ............................................................................................................................................................. 271
       $$............................................................................................................................................................ 272
      $$$.......................................................................................................................................................... 273
      $$$*** .................................................................................................................................................... 273
      $$*.......................................................................................................................................................... 274
      $*............................................................................................................................................................ 274
      % ............................................................................................................................................................ 275
      %{constant} ............................................................................................................................................ 276
      & ............................................................................................................................................................ 276
      &{constant}............................................................................................................................................. 277
      \ .............................................................................................................................................................. 278
      < ............................................................................................................................................................. 278
      > ............................................................................................................................................................. 279
      / .............................................................................................................................................................. 279
      ? ............................................................................................................................................................. 280
      ??............................................................................................................................................................ 284
      ???.......................................................................................................................................................... 289
      A ............................................................................................................................................................. 291
      ABR[{constant}]...................................................................................................................................... 292
      ABS ......................................................................................................................................................... 293
      {axis}={constant} .................................................................................................................................... 294
      B{constant} ............................................................................................................................................. 295
      CHECKSUM ........................................................................................................................................... 295
      CID ......................................................................................................................................................... 296
      CLEAR .................................................................................................................................................... 296
      CLEAR ALL ............................................................................................................................................ 297
      CLEAR ALL PLCS................................................................................................................................... 297
      CLOSE .................................................................................................................................................... 297
      CLOSE ALL ............................................................................................................................................ 298
      CLRF ...................................................................................................................................................... 299
      {constant}................................................................................................................................................ 299
      CPU ........................................................................................................................................................ 300
      DATE ...................................................................................................................................................... 300
      DEFINE BLCOMP .................................................................................................................................. 300
      DEFINE CCBUF..................................................................................................................................... 301
      DEFINE COMP (one-dimensional).......................................................................................................... 302
      DEFINE COMP (two-dimensional).......................................................................................................... 303
      DEFINE GATHER .................................................................................................................................. 307
      DEFINE LOOKAHEAD .......................................................................................................................... 307
      DEFINE ROTARY ................................................................................................................................... 309
      DEFINE TBUF ....................................................................................................................................... 310
      DEFINE TCOMP .................................................................................................................................... 310
      DEFINE UBUFFER [modified description]......................................................................................... 311
      DELETE ALL .......................................................................................................................................... 312
      DELETE ALL TEMPS ............................................................................................................................. 313
      DELETE BLCOMP ................................................................................................................................. 313
      DELETE CCUBUF ................................................................................................................................. 314
      DELETE COMP ...................................................................................................................................... 314
      DELETE LOOKAHEAD .......................................................................................................................... 314
      DELETE GATHER .................................................................................................................................. 315
      DELETE PLCC ....................................................................................................................................... 316
      DELETE ROTARY................................................................................................................................... 316
      DELETE TBUF ....................................................................................................................................... 317
      DELETE TCOMP.................................................................................................................................... 317
      DISABLE PLC......................................................................................................................................... 318
      DISABLE PLCC ...................................................................................................................................... 318
      E ............................................................................................................................................................. 319
      EAVERSION ........................................................................................................................................... 319
      ENABLE PLC.......................................................................................................................................... 320
      ENABLE PLCC ....................................................................................................................................... 321
      ENDGATHER ......................................................................................................................................... 321
      F ............................................................................................................................................................. 322
      FRAX ...................................................................................................................................................... 322
      FREAD ................................................................................................................................................... 323
      FSAVE .................................................................................................................................................... 323
      FSAVECLEAR......................................................................................................................................... 324
      GATHER ................................................................................................................................................. 324
      H............................................................................................................................................................. 325
      HOME .................................................................................................................................................... 326
      HOMEZ .................................................................................................................................................. 326
      I{constant} .............................................................................................................................................. 327
      I{data}={expression}............................................................................................................................... 328
      I{constant}=* .......................................................................................................................................... 329
      I{constant}=@I{constant} ....................................................................................................................... 330
      IDC ......................................................................................................................................................... 330
      IDNUMBER ............................................................................................................................................ 331
      INC ......................................................................................................................................................... 331
      J! ............................................................................................................................................................ 332
      J+ ........................................................................................................................................................... 332
      J- ............................................................................................................................................................ 333
      J/............................................................................................................................................................. 333
      J:{constant}............................................................................................................................................. 334
      J:*........................................................................................................................................................... 334
      J= ........................................................................................................................................................... 335
      J={constant} ........................................................................................................................................... 335
      J=* ......................................................................................................................................................... 336
      J=={constant} ......................................................................................................................................... 336
      J^{constant} ............................................................................................................................................ 337
      J^* .......................................................................................................................................................... 337
      {jog command}^{constant} ...................................................................................................................... 338
      K ............................................................................................................................................................. 339
      LEARN .................................................................................................................................................... 340
      LIST ........................................................................................................................................................ 341
      LIST BLCOMP ........................................................................................................................................ 341
      LIST BLCOMP DEF................................................................................................................................ 342
      LIST COMP ............................................................................................................................................ 342
      LIST COMP DEF .................................................................................................................................... 343
      LIST FORWARD ..................................................................................................................................... 343
      LIST GATHER......................................................................................................................................... 344
      LIST INVERSE ........................................................................................................................................ 344
      LIST LDS ................................................................................................................................................ 345
      LIST LINK............................................................................................................................................... 345
      LIST PC .................................................................................................................................................. 345
      LIST PE .................................................................................................................................................. 346
      LIST PLC ................................................................................................................................................ 347
      LIST PROGRAM ..................................................................................................................................... 348
      LIST ROTARY ......................................................................................................................................... 349
      LIST TCOMP .......................................................................................................................................... 349
      LIST TCOMP DEF .................................................................................................................................. 350
      LOCK{constant},P{constant} .................................................................................................................. 350
      M{constant} ............................................................................................................................................ 351
      M{data}={expression}............................................................................................................................. 352
      M{constant}->......................................................................................................................................... 352
      M{constant}->*....................................................................................................................................... 353
      M{constant}->D:{address} ...................................................................................................................... 354
      M{constant}->DP:{address} ................................................................................................................... 354
      M{constant}->F:{address} ...................................................................................................................... 355
      M{constant}->L:{address} ...................................................................................................................... 355
      M{constant}->TWB:{address} ................................................................................................................. 356
      M{constant}->TWD:{address} ................................................................................................................ 357
      M{constant}->TWR:{address} ................................................................................................................. 358
      M{constant}->TWS:{address} ................................................................................................................. 358
      M{constant}->X/Y:{address} ................................................................................................................... 360
      MACROASCII{master #}                        [replaced]................................................................................................... 361
      MACROAUX{node #},M{slave var}={constant} ...................................................................................... 361
      MACROAUX{node #},{param #}={constant}........................................................................................... 362
      MACROAUXREAD ................................................................................................................................. 363
      MACROAUXWRITE ................................................................................................................................ 363
      MACROMST{master#},{master variable} ................................................................................................ 364
      MACROMST{master#},{master variable}={constant}.............................................................................. 365
      MACROMSTASCII{master #} .................................................................................................................. 366
      MACROMSTREAD ................................................................................................................................. 367
      MACROMSTWRITE ................................................................................................................................ 368
      MACROSLV{command} {node#} ............................................................................................................. 369
      MACROSLV{node#},{slave variable} ...................................................................................................... 370
      MACROSLV{node#},{slave variable}={constant} .................................................................................... 371
      MACROSLVREAD .................................................................................................................................. 372
      MACROSLVWRITE ................................................................................................................................. 373
      MACROSTASCII {station #} .................................................................................................................... 374
      MACROSTASCIIFREQ ........................................................................................................................... 375
      MACROSTASCIIFREQ={constant} ......................................................................................................... 375
      MACROSTASCIIFREQ=* ....................................................................................................................... 375
      MFLUSH ................................................................................................................................................ 376
      MOVETIME ............................................................................................................................................ 376
      NOFRAX ................................................................................................................................................. 376
      NORMAL ................................................................................................................................................ 377
      O{constant} ............................................................................................................................................. 377
      OPEN BINARY ROTARY ......................................................................................................................... 378
      OPEN FORWARD................................................................................................................................... 378
      OPEN INVERSE...................................................................................................................................... 379
      OPEN PLC.............................................................................................................................................. 380
      OPEN PROGRAM................................................................................................................................... 381
      OPEN ROTARY....................................................................................................................................... 381
      P ............................................................................................................................................................. 382
      P{constant} ............................................................................................................................................. 382
      P{data}={expression}.............................................................................................................................. 383
      PASSWORD={string}.............................................................................................................................. 384
      PAUSE PLC ............................................................................................................................................ 385
      PC........................................................................................................................................................... 386
      PE ........................................................................................................................................................... 387
      PMATCH ................................................................................................................................................ 387
      PR ........................................................................................................................................................... 388
      Q............................................................................................................................................................. 388
      Q{constant} ............................................................................................................................................. 389
      Q{data}={expression} ............................................................................................................................. 389
      R ............................................................................................................................................................. 391
      R[H]{address}......................................................................................................................................... 391
      RESUME PLC ......................................................................................................................................... 392
      S ............................................................................................................................................................. 393
      SAVE....................................................................................................................................................... 394
      SETPHASE ............................................................................................................................................. 395
      SID ......................................................................................................................................................... 395
      SIZE ........................................................................................................................................................ 396
      STN ......................................................................................................................................................... 396
      STN={constant} ...................................................................................................................................... 397
      TIME....................................................................................................................................................... 397
      TIME={time} .......................................................................................................................................... 397
      TODAY ................................................................................................................................................... 398
      TODAY={date} ....................................................................................................................................... 399
      TYPE....................................................................................................................................................... 399
      UNDEFINE............................................................................................................................................. 400
      UNDEFINE ALL ..................................................................................................................................... 400
      UNLOCK{constant} ................................................................................................................................ 401
      UPDATE ................................................................................................................................................. 401
      V ............................................................................................................................................................. 401
      VERSION ................................................................................................................................................ 402
      VID ......................................................................................................................................................... 402
      W{address} ............................................................................................................................................. 403
      Z ............................................................................................................................................................. 403
TURBO PMAC PROGRAM COMMAND SPECIFICATION .......................................... 405
      {axis}{data}[{axis}{data}…] ................................................................................................................... 405
      {axis}{data}:{data} [{axis}{data}:{data}…] ............................................................................................ 405
      {axis}{data}^{data}[{axis}{data}^{data}...] ............................................................................................. 406
      {axis}{data}[{axis}{data}…] {vector}{data} [{vector}{data}…]............................................................... 407
      A{data} ................................................................................................................................................... 409
      ABS ......................................................................................................................................................... 409
      ADDRESS ............................................................................................................................................... 410
      ADDRESS#P{constant} ........................................................................................................................... 410
      ADDRESS&P{constant} .......................................................................................................................... 411
      ADIS{constant} ....................................................................................................................................... 412
      AND ({condition}) ................................................................................................................................... 412
      AROT{constant} ...................................................................................................................................... 413
      B{data} ................................................................................................................................................... 414
      BLOCKSTART ........................................................................................................................................ 414
      BLOCKSTOP .......................................................................................................................................... 415
      C{data} ................................................................................................................................................... 415
      CALL ...................................................................................................................................................... 415
      CC0 ........................................................................................................................................................ 417
      CC1 ........................................................................................................................................................ 417
      CC2 ........................................................................................................................................................ 418
      CC3 ........................................................................................................................................................ 418
      CC4 ........................................................................................................................................................ 419
      CCR{data} .............................................................................................................................................. 419
      CIRCLE1 ................................................................................................................................................ 420
      CIRCLE2 ................................................................................................................................................ 420
      COMMANDx"{command}"...................................................................................................................... 421
      COMMANDx^{letter} .............................................................................................................................. 423
      CREAD ................................................................................................................................................... 424
      D{data} ................................................................................................................................................... 425
      DELAY{data} .......................................................................................................................................... 426
      DISABLE PLC {constant}[,{constant}...] ................................................................................................. 426
      DISABLE PLCC {constant}[,{constant}...] ............................................................................................... 427
      DISPLAY [{constant}] "{message}" ......................................................................................................... 428
      DISPLAY ... {variable} ............................................................................................................................ 428
      DWELL ................................................................................................................................................... 429
      ELSE ....................................................................................................................................................... 429
      ENABLE PLC.......................................................................................................................................... 431
      ENABLE PLCC ....................................................................................................................................... 431
      ENDIF .................................................................................................................................................... 432
      ENDWHILE ............................................................................................................................................ 432
      F{data} ................................................................................................................................................... 433
      FRAX ...................................................................................................................................................... 434
      G{data} ................................................................................................................................................... 435
      GOSUB ................................................................................................................................................... 436
      GOTO ..................................................................................................................................................... 436
      HOME .................................................................................................................................................... 437
      HOMEZ .................................................................................................................................................. 438
      I{data} .................................................................................................................................................... 439
      I{data}={expression}............................................................................................................................... 439
      IDIS{constant} ........................................................................................................................................ 440
      IF ({condition}) ....................................................................................................................................... 440
      INC ......................................................................................................................................................... 441
      IROT{constant} ....................................................................................................................................... 442
      J{data} .................................................................................................................................................... 443
      K{data} ................................................................................................................................................... 443
      LINEAR................................................................................................................................................... 444
      LOCK{constant},P{constant} .................................................................................................................. 444
      M{data} .................................................................................................................................................. 445
      M{data}={expression}............................................................................................................................. 445
      M{data}=={expression} .......................................................................................................................... 446
      M{data}&={expression} .......................................................................................................................... 447
      M{data}|={expression}............................................................................................................................ 447
      M{data}^={expression} ........................................................................................................................... 448
      MACROAUXREAD ................................................................................................................................. 449
      MACROAUXWRITE ................................................................................................................................ 450
      MACROMSTREAD ................................................................................................................................. 450
      MACROMSTWRITE ................................................................................................................................ 451
        MACROSLVREAD .................................................................................................................................. 452
        MACROSLVWRITE ................................................................................................................................. 454
        N{constant} ............................................................................................................................................. 455
        NOFRAX ................................................................................................................................................. 455
        NORMAL ................................................................................................................................................ 455
        NX{data} ................................................................................................................................................. 456
        NY{data} ................................................................................................................................................. 457
        NZ{data} ................................................................................................................................................. 457
        O{constant} ............................................................................................................................................. 458
        OR({condition}) ...................................................................................................................................... 459
        P{data}={expression}.............................................................................................................................. 459
        PAUSE PLC ............................................................................................................................................ 460
        PRELUDE............................................................................................................................................... 461
        PSET ....................................................................................................................................................... 462
        PVT{data} ............................................................................................................................................... 463
        Q{data}={expression} ............................................................................................................................. 463
        R{data} ................................................................................................................................................... 464
        RAPID .................................................................................................................................................... 465
        READ...................................................................................................................................................... 466
        RESUME PLC ......................................................................................................................................... 467
        RETURN ................................................................................................................................................. 468
        S{data} .................................................................................................................................................... 468
        SENDx .................................................................................................................................................... 469
        SENDx^{letter}........................................................................................................................................ 470
        SETPHASE ............................................................................................................................................. 471
        SPLINE1 ................................................................................................................................................. 472
        SPLINE2 ................................................................................................................................................. 473
        STOP ...................................................................................................................................................... 473
        T{data} ................................................................................................................................................... 473
        TA{data} ................................................................................................................................................. 474
        TINIT ...................................................................................................................................................... 475
        TM{data} ................................................................................................................................................ 475
        TR{data} ................................................................................................................................................. 476
        TS{data}.................................................................................................................................................. 477
        TSELECT{constant} ................................................................................................................................ 478
        TX{data} ................................................................................................................................................. 478
        TY{data} ................................................................................................................................................. 479
        TZ{data} ................................................................................................................................................. 479
        U{data} ................................................................................................................................................... 480
        UNLOCK{constant} ................................................................................................................................ 480
        V{data} ................................................................................................................................................... 481
        W{data} .................................................................................................................................................. 481
        WAIT....................................................................................................................................................... 482
        WHILE({condition}) ................................................................................................................................ 482
        X{data} ................................................................................................................................................... 484
        Y{data} ................................................................................................................................................... 484
        Z{data} ................................................................................................................................................... 485

TURBO PMAC MATHEMATICAL FEATURES .............................................................. 486
Mathematical Operators .......................................................................................................... 486
        + ............................................................................................................................................................. 486
       -.............................................................................................................................................................. 486
        * ............................................................................................................................................................. 486
        / .............................................................................................................................................................. 486
        % ............................................................................................................................................................ 487
        & ............................................................................................................................................................ 488
        | .............................................................................................................................................................. 488
        ^ .............................................................................................................................................................. 489
Mathematical Functions .......................................................................................................... 489
        ABS ......................................................................................................................................................... 489
        ACOS ...................................................................................................................................................... 489
        ASIN ....................................................................................................................................................... 490
        ATAN ...................................................................................................................................................... 490
        ATAN2 .................................................................................................................................................... 491
        COS ........................................................................................................................................................ 492
        EXP ........................................................................................................................................................ 492
        INT ......................................................................................................................................................... 492
        LN ........................................................................................................................................................... 493
        SIN.......................................................................................................................................................... 493
        SQRT ...................................................................................................................................................... 494
        TAN ........................................................................................................................................................ 494

TURBO PMAC MEMORY AND I/O MAP ........................................................................ 495
Program (Machine Code) Memory .......................................................................................... 495
Global Servo Registers ............................................................................................................ 495
Temporary Stack Registers...................................................................................................... 497
Motor Registers....................................................................................................................... 497
Global Registers ...................................................................................................................... 503
Communication Buffers .......................................................................................................... 504
Coordinate System Registers ................................................................................................... 504
Program and Buffer Pointers ................................................................................................... 508
Processed A/D Registers ......................................................................................................... 509
Additional Coordinate System Registers ................................................................................. 509
MACRO Ring Status Registers ............................................................................................... 510
MACRO Flag Registers .......................................................................................................... 511
Encoder Conversion Table Registers ....................................................................................... 511
Buffer Pointers ........................................................................................................................ 512
Commutation Sine Table ......................................................................................................... 512
User Variable Registers ........................................................................................................... 512
User Program and Buffer Storage ............................................................................................ 512
Battery-Backed RAM Registers (Option 16x required) ............................................................ 512
Dual Ported RAM Registers (Option 2x required) ................................................................... 512
   DPRAM Control Panel ....................................................................................................... 513
   DPRAM Control Panel Registers ........................................................................................ 514
   Motor Data Reporting Buffer Control (used if I48=1 or I57=1) ......................................... 515
  Motor Data Reporting Buffer (Used if I48 = 1 or I57 = 1) .................................................. 515
  Background Data Reporting Buffer Control (used if I49 = 1 or I57 = 1) ............................ 519
  Global Background Data Reporting Buffer (used if I49 = 1)............................................... 520
  Coordinate System Background Data Reporting Buffer ...................................................... 520
  (used if I49 = 1).................................................................................................................. 520
  DPRAM ASCII Buffers (used if I58 = 1) ............................................................................. 525
  Background Variable Read and Write Buffer Control (used if I55 = 1) ............................... 525
  Binary Rotary Program Buffer Control (used after OPEN BIN ROT) ................................. 526
  Data Gathering Control (used if I5000 = 2 or 3) ................................................................ 526
  Variable-Sized Buffers/Open-Use Space ............................................................................. 526
VME Bus/DPRAM Interface Registers ................................................................................... 526
Turbo PMAC2 I/O Control Registers ...................................................................................... 527
PMAC-Style Servo ASIC Registers ........................................................................................ 529
PMAC2-Style Servo ASIC Registers....................................................................................... 533
Turbo PMAC2 MACRO and I/O ASIC Registers .................................................................... 543
  I/O Control and Data Registers (MACRO IC 0 only) .......................................................... 543
  MACRO Ring Control Registers ......................................................................................... 546
  Supplemental Servo Channel Registers (MACRO IC 0 only) ............................................... 547
  Turbo PMAC2 MACRO Node Registers.............................................................................. 550
Turbo PMAC I/O Registers ..................................................................................................... 552
Turbo PMAC2 Option 12 A/D Register .................................................................................. 554
3U Turbo PMAC2 Stack I/O Registers .................................................................................... 554
JEXP Expansion Port I/O Registers ......................................................................................... 556
UMAC UBUS Expansion Port I/O Registers ........................................................................... 556

TURBO PMAC SUGGESTED M-VARIABLE DEFINITIONS ........................................ 558
TURBO PMAC2 SUGGESTED M-VARIABLE DEFINITIONS ...................................... 610
UMAC TURBO SUGGESTED M-VARIABLE DEFINITIONS ........................................ 676

CHANGE SUMMARY: PMAC TO TURBO PMAC ......................................................... 742
Overview Feature Comparison ................................................................................................ 742
I-Variable Changes ................................................................................................................. 743
I-Variable Changes (continued) ............................................................................................... 744
DPRAM Function Changes ..................................................................................................... 744
Compensation Table Changes ................................................................................................. 744
Commutation Changes ............................................................................................................ 745
Overtravel Limit Changes ....................................................................................................... 745
Cutter Radius Compensation Changes ..................................................................................... 745
Communications Changes ....................................................................................................... 745
Memory and I/O Map Changes ............................................................................................... 746
Jumper Changes ...................................................................................................................... 747
On-line Command Changes..................................................................................................... 747
Program Command Changes ................................................................................................... 748
Encoder Conversion Table Changes ........................................................................................ 748

FIRMWARE UPDATE LISTING ....................................................................................... 749
V1.933 Updates (July 1999) .................................................................................................... 749
V1.934 Updates (September 1999) .......................................................................................... 749
V1.935 Updates (February 2000) ............................................................................................ 751
V1.936 Updates (April 2000) .................................................................................................. 751
V1.937 Updates (November, 2000) ......................................................................................... 752
V1.938 Updates (June, 2001) .................................................................................................. 754
V1.939 Updates (March, 2002) ............................................................................................... 754
V1.940 Updates (June, 2003) .................................................................................................. 755
V1.941 Updates (September 2005) .......................................................................................... 756
V1.942 Updates (October 2005) .............................................................................................. 757
V1.943 Updates (January 2007) .............................................................................................. 758
V1.944 Updates (January 2008) .............................................................................................. 758
V1.945 Updates (June 2008) ................................................................................................... 758
V1.946 Updates (Dec 2008, Geo Brick only) .......................................................................... 759
V1.947 Updates (May 2010) ................................................................................................... 759
V1.948 Updates (November 2013) .......................................................................................... 760
